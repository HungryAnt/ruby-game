# coding: UTF-8

puts __FILE__

market1_tiles_text = <<TILES
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
#####################AAAAA####                                                 #
#####################AAAAA                                                     #
#####################AAAAA                                                     #
#####################AAAAA                                                     #
#####################AAAAA                                                     #
#####################AAAAA                                                     #
####################      B          ###########################################
###################                 ########################      ##############
#######                              ######################                  ###
#                                      ###############                         #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                           X  #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
###                                                                            #
#########                                                                      #
############                                                                   #
###############                                                                #
###############                                                                #
##################                                                             #
###################                                                            #
####################                                                           #
#####################                                                          #
######################                                                         #
################################################################################
################################################################################
################################################################################
TILES


market1_area = create_area(:market1, 'map/market/market1/Market1_0.png', 'map/market1.ogg', market1_tiles_text)


market2_tiles_text = <<TILES
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
#####################################################################    #######
##################################      ######CCCCCCCCCCCCCCCC#######    #######
#################################        #####CCCCCCCCCCCCCCCC#######    #######
#################################        #####CCCCCCCCCCCCCCCC#######    #######
#################################        #####CCCCCCCCCCCCCCCC#######    #######
#################################        #####CCCCCCCCCCCCCCCC#######    #######
#################################        #####CCCCCCCCCCCCCCCC#######    #######
#################################        #####CCCCCCCCCCCCCCCC#######    #######
BBBB                                          CCCCCCCCCCCCCCCC                ##
BBBB                                                                          ##
BBBB                                                 D                        ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB A                                                                        ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB                                                                          ##
BBBB                                                                          ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
##                                                                            ##
################################################################################
################################################################################
################################################################################
TILES

market2_area = create_area(:market2 ,'map/market/market2/Market2_0.bmp', 'map/market2.ogg', market2_tiles_text)

market3_tiles_text = <<TILES
################################################################################
################################################################################
################################################################################
################################################################################
################################################################################
#######################################################################DDDDDDDD#
#######################################################################DDDDDDDD#
#######################################################################DDDDDDDD#
#######################################################################DDDDDDDD#
######################################################################         #
#####################################################################     C    #
####################################################################           #
###################################################################            #
#################################################################              #
################################################################               #
##############################################################                 #
#############   #   #########################################                  #
#############   #   ########################################                   #
#############   #   ########################################                   #
#############   #   #######################################                    #
#############   #   ######################################                     #
#############   #   #####################################                      #
###                                                                       ######
###                                                                      #######
###                                                                      #######
###                                                                    #########
###                                                                   ##########
###                                                                  ###########
###                                                                  ###########
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                 ############
###                                                                #############
###                                                                #############
###                                                               ##############
###                                                               ##############
###                                                               ##############
####                                                              ##############
#####                                                             ##############
########                                                          ##############
###########                                                       ##############
############                                                      ##############
##############                                              ####################
##############                                             #####################
###############                                           ######################
#################                                        #######################
##################                                      ########################
###################                                     ########################
################################################################################
TILES

market3_area = create_area(:market3, 'map/market/market3/Market3_0.png', 'map/market3.ogg', market3_tiles_text)

market1_area.gateway = {
    :A => {:area => market2_area, :direction => Direction::DOWN}
}

market2_area.gateway = {
    :B => {:area => market1_area, :direction => Direction::RIGHT},
    :C => {:area => market3_area, :direction => Direction::DOWN}
}

market3_area.gateway = {
    :D => {:area => market2_area, :direction => Direction::RIGHT}
}

# 设置遮盖物
market1_area.add_covering(:image_path => 'map/market/market1/Market1_4.bmp', :x => 0, :y => 431) # 木桩

market1_area.add_visual_element(image_path: 'map/market/market1/Market1_2.bmp',
                                left: 353, top: 0, y: 218) # 牌子
market1_area.add_visual_element(image_path: 'map/market/market1/Market1_3.bmp',
                                left: 478, top: 0, y: 190) # 墙

# school_ground_area.add_covering(:anim => :school_ground_children, :x => 0, :y => 370)

# school_lobby_area.add_covering("map/school/school_lobby/01.bmp", 250, 0)

create_map(:market, '通向菜市场的路', MapType::VILLAGE, [market1_area, market2_area, market3_area])

